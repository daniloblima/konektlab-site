---
phase: 01-implementacao
plan: "05"
type: execute
wave: 4
depends_on:
  - "01-04"
files_modified:
  - CHANGELOG.md
autonomous: false
requirements:
  - PERF-01
  - PERF-02
  - PERF-04

must_haves:
  truths:
    - "Tamanho total de todos os arquivos do projeto é menor que 1,5 MB"
    - "img/ não tem imagens sem loading='lazy' (ou não tem imagens — placeholder é div CSS)"
    - "CHANGELOG.md existe na raiz do projeto com o estado atual documentado"
    - "A página completa foi verificada visualmente por Danilo em mobile e desktop"
  artifacts:
    - path: "CHANGELOG.md"
      provides: "Registro de desenvolvimento conforme exigência do CLAUDE.md"
      contains: "konekt.lab"
    - path: "index.html"
      provides: "Qualquer atributo loading=lazy adicionado a imagens reais (se houver)"
  key_links:
    - from: "CHANGELOG.md"
      to: "decisões técnicas do projeto"
      via: "registro de bugs, soluções e decisões por sessão"
      pattern: "OBJETIVO|DECISÃO|PENDÊNCIA"
---

<objective>
Auditoria de performance, criação do CHANGELOG.md obrigatório e verificação visual final da página pelo usuário.

Purpose: Wave 4 — fechamento da fase. Garante que os requisitos de performance foram cumpridos, o logging obrigatório está em dia e o usuário valida o resultado visualmente.
Output: CHANGELOG.md criado, auditoria de tamanho feita, checkpoint de aprovação visual.
</objective>

<execution_context>
@/Users/daniloblima/.claude/get-shit-done/workflows/execute-plan.md
@/Users/daniloblima/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-implementacao/CONTEXT.md
@.planning/phases/01-implementacao/01-01-SUMMARY.md
@.planning/phases/01-implementacao/01-03-SUMMARY.md
@.planning/phases/01-implementacao/01-04-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Auditoria de performance e criação do CHANGELOG.md</name>
  <files>CHANGELOG.md</files>
  <action>
    **Parte A — Auditoria de performance (PERF-01, PERF-02, PERF-04):**

    1. Medir tamanho total dos arquivos:
    ```bash
    du -sh /Users/daniloblima/Experimentos/konektlab-site/
    du -sh /Users/daniloblima/Experimentos/konektlab-site/css/
    du -sh /Users/daniloblima/Experimentos/konektlab-site/js/
    du -sh /Users/daniloblima/Experimentos/konektlab-site/img/
    du -sh /Users/daniloblima/Experimentos/konektlab-site/index.html
    ```

    2. Se o total ultrapassar 1,5 MB:
    - Verificar se há imagens na pasta img/ (improvável nesta fase — placeholder é div CSS)
    - Verificar se há arquivos desnecessários (.DS_Store, etc.)
    - CSS/JS únicos e sem duplicação — não deve haver problema de tamanho

    3. Verificar atributo loading="lazy" em qualquer tag img no index.html:
    ```bash
    grep -n "<img" index.html
    ```
    Se houver imagens sem loading="lazy", adicionar o atributo.

    4. Verificar que o placeholder de foto de Danilo é um div (não uma img) — confirmar que PERF-04 está atendido. Se for img com src quebrado, corrigir para `<div class="foto-placeholder">Danilo Lima</div>`.

    **Parte B — Criar CHANGELOG.md (obrigação do CLAUDE.md):**

    Criar `/Users/daniloblima/Experimentos/konektlab-site/CHANGELOG.md` com o seguinte conteúdo (adaptar com os valores reais medidos durante execução):

    ---
    CONTEÚDO DO CHANGELOG.md:

    # CHANGELOG — konekt.lab Landing Page

    > Este arquivo registra TODOS os problemas, bugs, decisões técnicas
    > e soluções encontradas durante o desenvolvimento. Consultado obrigatoriamente
    > após cada compactação de contexto.

    ---

    ## [2026-02-26] — Fase 1: Implementação da Landing Page

    ### OBJETIVO
    Criar landing page estática completa em HTML + CSS + JS vanilla para konektlab.com.
    Substituição do site atual em Wix. Hospedagem futura: GitHub Pages.

    ### STACK TÉCNICA
    - HTML5 semântico
    - CSS moderno (variáveis CSS, flexbox, grid, clamp())
    - JavaScript vanilla (IntersectionObserver, sem bibliotecas)
    - Fonte: Inter via Google Fonts (@import no CSS)
    - SEM frameworks, SEM build step, SEM backend

    ### ESTRUTURA DE ARQUIVOS
    - index.html — ponto de entrada único
    - css/style.css — design system + responsividade
    - js/main.js — CTAs com UTM, scroll reveal, smooth scroll
    - img/ — placeholder para foto de Danilo (ainda não recebida)

    ### DECISÕES TÉCNICAS

    Por que Inter via @import no CSS (não no HTML):
    Mantém o CSS autossuficiente. Uma única linha para mover o projeto. Trade-off aceitável vs. preload no HTML.

    Por que clamp() para tipografia responsiva:
    Fluidez entre breakpoints sem múltiplos @media apenas para font-size. clamp(1.75rem, 5vw, 4rem) para h1.

    Por que IntersectionObserver sem polyfill:
    Suporte universal em browsers modernos (Chrome 51+, Firefox 55+, Safari 12.1+). Público-alvo (decisores B2B) usa browsers atuais.

    Por que CTA com utm_campaign= (não utm_content=):
    Conforme CONTEXT.md: Hero usa "hero", CTA Final usa "cta_final". Diferencia origem do clique.

    Por que foto de Danilo é placeholder (div CSS):
    Foto não foi entregue até o momento da implementação. Placeholder é div.foto-placeholder — sem img com src quebrado. Substituir pela foto real quando disponível.

    ### PERFORMANCE
    - Tamanho total: [preencher com resultado do du -sh]
    - CSS: [preencher]
    - JS: [preencher]
    - HTML: [preencher]

    ### PENDÊNCIAS CONHECIDAS
    - Foto de Danilo: substituir div.foto-placeholder por img quando a foto for entregue
    - Adicionar loading="lazy" e atributo width/height quando a foto for adicionada
    - Fase 2: GitHub Pages + DNS GoDaddy

    ### LIÇÕES APRENDIDAS
    - HTML escrito antes do CSS (Wave 1 paralela) funciona bem — classes definidas no CONTEXT antecipam o que o CSS precisará
    - Placeholder visual CSS é preferível a img com src quebrado — evita request com erro 404

    ---
    FIM DO CONTEÚDO DO CHANGELOG.md
  </action>
  <verify>
    1. `ls -la CHANGELOG.md` — arquivo existe na raiz
    2. `du -sh .` — tamanho total abaixo de 1,5 MB
    3. `grep -c "loading=\"lazy\"" index.html` — retorna 0 ou número correspondente às imagens
    4. `grep "foto-placeholder" index.html` — confirma que placeholder é div
  </verify>
  <done>CHANGELOG.md criado com estado completo do projeto. Auditoria de performance confirma tamanho abaixo de 1,5 MB. Nenhuma imagem sem lazy load.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verificação visual final da página completa</name>
  <action>
    Pausa para verificação visual por Danilo. Claude já completou toda a implementação.
    O executor deve apresentar ao usuário o resumo do que foi construído e aguardar aprovação.
  </action>
  <what-built>
    Landing page konekt.lab completa:
    - 9 seções com copy aprovado do COPY.md
    - Design system CSS: tipografia Inter, paleta off-white/quase-preto, cards de serviço e evidência
    - JavaScript: CTAs com UTM por posição, scroll reveal fade-in, smooth scroll
    - Responsivo: 320px (mobile), 768px (tablet), 1024px+ (desktop)
    - Performance: abaixo de 1,5 MB
    - CHANGELOG.md criado
  </what-built>
  <how-to-verify>
    1. Abrir index.html no browser (duplo clique no arquivo ou `open index.html` no terminal)

    2. Verificação de conteúdo:
       - Ler cada seção e confirmar que o copy está idêntico ao COPY.md
       - Confirmar que "Agende uma conversa" aparece 2 vezes (hero e CTA final)

    3. Verificação mobile (obrigatório):
       - Abrir DevTools (F12 ou Cmd+Option+I)
       - Toggle device toolbar (ícone de celular)
       - Selecionar "iPhone SE" (375px)
       - Rolar a página inteira: confirmar sem scroll horizontal, layout empilhado

    4. Verificação desktop:
       - Fechar DevTools ou sair do modo mobile
       - Confirmar grid de 3 colunas nos serviços e evidências
       - Confirmar hierarquia visual clara

    5. Teste dos CTAs:
       - Clicar "Agende uma conversa" no hero: deve abrir nova aba com URL do Google Calendar + utm_campaign=hero
       - Clicar "Agende uma conversa" no CTA Final: deve abrir nova aba com utm_campaign=cta_final

    6. Animações:
       - Recarregar a página (Cmd+R)
       - Fazer scroll lentamente: elementos devem aparecer com fade-in suave
       - Confirmar que o hero aparece sem precisar rolar

    7. Hover (desktop):
       - Passar o mouse sobre os cards de serviço: leve elevação visível
       - Passar o mouse sobre os CTAs: mudança de opacidade visível
  </how-to-verify>
  <verify>Usuário confirma aprovação ou lista problemas a corrigir.</verify>
  <done>Usuário digitou "aprovado" ou problemas foram corrigidos e re-aprovados.</done>
  <resume-signal>
    Digite "aprovado" se a página está OK para prosseguir para o deploy.
    Ou descreva os problemas encontrados para que sejam corrigidos antes de encerrar a fase.
  </resume-signal>
</task>

</tasks>

<verification>
1. `ls -la CHANGELOG.md` — existe
2. `du -sh .` — abaixo de 1,5 MB
3. `grep -c "<img" index.html` — 0 imagens ou todas com loading="lazy"
4. Usuário aprovou visual via checkpoint
</verification>

<success_criteria>
- CHANGELOG.md existe e documenta: stack, decisões técnicas, pendências e lições
- Tamanho total do projeto abaixo de 1,5 MB
- Nenhuma imagem sem loading="lazy" (ou nenhuma imagem — placeholder é div)
- Usuário aprovou visualmente: layout, copy, CTAs e animações
- Fase 1 apta a avançar para Fase 2 (deploy)
</success_criteria>

<output>
Após conclusão, criar `.planning/phases/01-implementacao/01-05-SUMMARY.md` documentando:
- Tamanho total medido dos arquivos
- Resultado da auditoria de imagens
- Feedback do usuário no checkpoint
- Decisão de prosseguir ou corrigir
- Atualizar STATE.md: Phase 1 concluída
</output>
